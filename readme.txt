【テーマ名　】 x-mas
【バージョン】 0.81
【作　成　者】 marine / mistgreen
【動作　環境】 XOOPS Cube Legacy 2.2
【ライセンス】 MIT
【公 開 日　】 2012-12-11

======================================================
説明（概要）
======================================================

　PCでもiPhone 等のスマートフォンでも使える XCL2.2用テーマです。HTML5で作っています。
　閲覧環境に応じて、柔軟にページレイアウトを切り替えるレスポンシブ・ウェブデザイン（Responsive Web Design ）を採用しました。Xoops Cube Legacy 2.2 で動作確認しました。basic5 をベースに作成しました。

　ヘッダー画像下には、xugj_assign プラグインを利用して、インストールされたモジュールに対応するメニューバーを自動表示するようにしています。
　また、フッターにユーザーメニュー項目も自動表示するので、xoopsの互換モジュールである「メインメニュー」「ユーザーメニュー」を利用しない運用が可能となっています。

　このテーマについては MIT ライセンスとさせていただきます。


======================================================
説明（詳細）
======================================================

　とりあえず、utf8とeucのlanguageファイルは用意しましたが、HTML5ということで utf8ベースで動作すると思います。eucでの動作は確認していません。

　メニューは、Xoops Users Group Japan(XUGJ) で GIJOEさんが提唱された xugj_assign.php を利用したメニューを採用しています。
　通常のメインメニューに表示されるのと同じ項目が自動で表示されるので、メニューの項目を編集する必要もありません。
　　http://www.xugj.org/modules/d3forum/index.php?topic_id=125

　なお、同封しているものは、オリジナルの xugj_assign.php から少し変更しているので、xugj_assign_theme.php という名称に変更しています。

　jQuery.js + jquery.jgrowlプラグインを利用して、画面遷移せずにリダイレクト表示できるので、スピーディーでセンスの良い表示が可能となっています。　なお、本テーマには、domifaraさん作成のphpファイルによるインクルード方法を用いております。
　domifaraさん、ありがとうございます。（javascriptオフ時には、リダイレクトの文字などがボックス表示されます。）

　jQueryについては、domifaraさんによるXCL2.2対応措置がとられており、jQueryの二重読み込み防止や他のjavascriptとのバッティングを可能な限り避ける仕組みが用いられております。　(xugj_already_js.php をXCL2.1対応版に差し替えております。）


【画面表示について】

　このテーマでは、メディア・クエリ（Media Queries）を利用して、表示するデバイス（ブラウザ）の画面幅によりスタイル（CSS）の切替を行います。

　基本は、左メイン・右サイドカラムの２カラム表示となっており、最大表示幅は９８０ｐｘでブラウザの幅を縮めるとそれに応じて横幅が狭まり、デバイスの幅が480px以下になると１カラム表示に切り替わります。

　なお、中央・中央カラムについては、表示順設定に応じて、トップとボットムに幅一杯にボックス表示することができます。

　■　　中央中央カラム　表示順 ０　（トップカラム）
　■　　中央中央カラム　表示順５００以上　（ボットムカラム）

　詳しい表示ロジックについては、同封の layout2012.jpg をご覧下さい。

　ヘッダー画像下のメニューバーは、スクロールすると自動でトップにFIXするようにしています。また、検索窓をクリックするとキーワード入力部が横に広がるギミックも装備してみました。（jQuery利用）


======================================================
インストール
======================================================

　インストールは通常テーマと同じです。
　プラスアルファとして、テーマ下テンプレートを利用して、主要モジュールのテンプレートを本テーマに最適化させ、テーマ下テンプレートとして利用する設定を行っています。

　まずは、解凍してできあがったフォルダ「x-mas」をFTPにてサイトのテーマ・ディレクトリへコピーしてください。（場合によっては、解凍したフォルダの階層が深くなっていることもありますので、ご注意ください。）

　完了したら通常のテーマと同様、管理画面の「互換モジュール」「テーマの管理」でこのテーマを使用する設定としてください。



======================================================
カスタマイズ
======================================================

【メニュー表示項目の変更】

　このテーマでは、xugj_assign_phpを用いたメニュー表示を行いますが、インストールして初回表示した時に、メインメニュー表示する設定となっているメニュー項目を自動で引用してきます。（表示用のキャッシュファイルを自動作成して利用）

　従って、モジュールの管理にてモジュールの表示名を変えたり、並び順を「０」として非表示指定した場合でも、テーマのメニュー表示は以前作成したキャッシュファイルを利用することから、変更した表示となりません。

　そのような場合、FTPソフトを使って、cacheディレクトリ内の theme_trend_menus_****.php を削除してください。再度、サイトを表示した際に、新しくメニュー用のキャッシュファイルが自動生成されます。

　なお、domifaraさん作成の「xugjメニューキャッシュリフレシュ　管理画面モジュール」を利用すると、FTPソフトを使わずにキャッシュファイルの削除ができるので、便利だと思います。（domifaraさん、ありがとうございます。）
　　http://xodomifara.lolipop.jp/doxo/modules/d3downloads/index.php?cid=2


======================================================
利用について
======================================================

　このテーマは、MIT ライセンスです。ご自由に改変するなどしてご利用ください。

　なお、雑誌・書籍への掲載の場合には、あらかじめ当サイト管理人へご一報いただけると嬉しいです。
　　連絡先：http://xoops123.com/modules/liaise/



======================================================
バージョンアップ履歴
======================================================

2012-12-11 ver0.81
　とりあえず公開してみる。


======================================================
お願い
======================================================

　できましたら、当方のサイト掲示板（ご訪問帳）に何か書き込んでいただけると嬉しいです～m(_ _)m
　　 http://xoops123.com/modules/d3forum/?forum_id=1 



